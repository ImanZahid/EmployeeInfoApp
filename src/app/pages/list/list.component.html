<div class="container">
  <h1>Employee List</h1>
  <button
    pButton
    type="button"
    label="Add New Employee"
    icon="pi pi-plus"
    (click)="onAddEmployee()"
    class="p-button-rounded p-button-success"
  ></button>
  <button
    pButton
    type="button"
    label="Delete Selected Rows"
    icon="pi pi-trash"
    (click)="onDeleteSelected()"
    [disabled]="!hasSelectedEmployees()"
    class="p-button-rounded p-button-danger"
  ></button>

  <p-table
    [value]="employees"
    [(selection)]="selectedEmployees"
    dataKey="id"
    styleClass="p-datatable-gridlines custom-table"
    [tableStyle]="{ 'min-width': '80rem' }"
  >
    <ng-template pTemplate="header">
      <tr>
        <th>
          <p-checkbox
            [(ngModel)]="allChecked"
            binary="true"
            (onChange)="toggleSelectAll($event)"
          ></p-checkbox>
        </th>
        <th>Status</th>
        <th>ID</th>
        <th>First Name</th>
        <th>Last Name</th>
        <th>Phone Number</th>
        <th>Email</th>
        <th>Department</th>
        <th>Salary</th>
        <th>Entry Date</th>
        <th>Leave Date</th>
        <th>Actions</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-employee>
      <tr
        style="
          text-align: center;
          border: 1px solid #dee2e6;
          padding: 8px;
          cursor: pointer;
        "
      >
        <td>
          <p-checkbox
            [(ngModel)]="employee.selected"
            binary="true"
            (onChange)="updateSelectedEmployees(employee, $event.checked)"
          ></p-checkbox>
        </td>
        <td>
          {{ employee.status }}
        </td>
        <td>
          {{ employee.id }}
        </td>
        <td>
          {{ employee.firstName }}
        </td>
        <td>
          {{ employee.lastName }}
        </td>
        <td>
          {{ employee.phoneNumber }}
        </td>
        <td>
          {{ employee.email }}
        </td>
        <td>
          {{ employee.department }}
        </td>
        <td>
          {{ employee.salary | currency : "USD" }}
        </td>
        <td>
          {{ employee.entryDate }}
        </td>
        <td>
          {{ employee.leaveDate }}
        </td>
        <td>
          <span
            class="action-link"
            (click)="onEditEmployee(employee)"
            style="margin-right: 10px"
            >Edit</span
          >
          <span class="action-link" (click)="onDeleteEmployee(employee.id)"
            >Delete</span
          >
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
